@if (showSummary()) {
    @if (questionItems.length > 0) {
        <div>
            <quiz-summary [questionItems]="questionItems" [finalResult]="finalResult" />
        </div>
    }
} @else {
    @if(currentQuestion()){
        <div class="main">
            <div>
                <div class="quiz-container">
                    <div class="header">
                        @if(currentQuestionIndex > -1) {
                            <p>Question {{currentQuestionIndex + 1}} out of {{questionItems.length}}</p>
                        }
                        <p>
                            Time taken: {{quizStore.timer()}}
                        </p>
                    </div>
                    <hr />
                    <div class="question">{{currentQuestion()?.question?.content}}</div>
                
                    @switch(currentQuestionType) {
                        @case (questionType.SINGLE_ANSWER) {
                            <quiz-multiple-choice-radio
                                [currentQuestion]="currentQuestion()"
                                (setAnswer)="quizStore.setAnswer($event)"
                            />
                        }
                        @case (questionType.MULTIPLE_ANSWERS) {
                            <quiz-multiple-choice-check
                                [currentQuestion]="currentQuestion()"
                                (setAnswer)="quizStore.setAnswer($event)"
                            />
                        }
                        @case (questionType.TEXT_BLANK) {
                            <quiz-text-blank
                                [currentQuestion]="currentQuestion()"
                                (setAnswer)="quizStore.setAnswer($event)"
                            />
                        }
                        @case (questionType.QUOTIENT_REMINDER) {
                            <quiz-quotient-reminder
                                [currentQuestion]="currentQuestion()"
                                (setAnswer)="quizStore.setAnswer($event)"
                            />
                        }
                    }
                    
                    <div class="buttons">
                        @if(currentQuestionIndex > 0) {
                            <p-button label="Prev" (click)="previous()" severity="secondary" />
                        }
                        <p-button label="{{isLastQuestion ? 'Complete Quiz' : 'Next'}}" (click)="next()" />
                    </div>
                </div>
            </div>
            <quiz-question-panel
                [questions]="questionItems"
                [currentQuestionId]="currentQuestion()?.question?.id"
                (setCurrentQuestion)="quizStore.setCurrentQuestion($event)"
            />
        </div>
    }
}
    